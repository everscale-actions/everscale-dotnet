<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <FirstTargetFramework Condition=" '$(TargetFrameworks)' == '' ">$(TargetFramework)</FirstTargetFramework>
        <FirstTargetFramework Condition=" '$(FirstTargetFramework)' == '' ">$(TargetFrameworks.Split(';')[0])</FirstTargetFramework>
    </PropertyGroup>

    <Target Name="DownloadContentFiles" Condition=" '$(TargetFramework)' == '$(FirstTargetFramework)' " BeforeTargets="BeforeBuild">
        <Message Importance="high" Text="SDKVersion: $(SDKVersion)" />
        <Exec Command="npm i --no-save @tonclient/lib-web@$(SDKVersion)" />
        <Copy SourceFiles="node_modules/@tonclient/lib-web/index.js" DestinationFiles="wwwroot/js/tonclient.js" OverwriteReadOnlyFiles="true" />
        <Copy SourceFiles="node_modules/@tonclient/lib-web/tonclient.wasm" DestinationFiles="wwwroot/tonclient.wasm" OverwriteReadOnlyFiles="true" />
    </Target>

</Project>